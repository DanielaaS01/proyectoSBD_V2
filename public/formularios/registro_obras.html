<html lang="es"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Obras de Arte</title>
    <link rel="stylesheet" href="../css/registro_obras.css" />
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="page-title">Registro de Obras de Arte</h1>
            <p class="page-subtitle">Complete el formulario para registrar una nueva obra en el sistema</p>
        </header>
        
        <div class="form-container">
            <div class="form-header">
                <h2>Nueva Obra de Arte</h2>
                <p>Ingrese todos los detalles de la obra. Los campos marcados con * son obligatorios.</p>
            </div>
            
            <form id="artworkForm">
                <div class="form-content">
                    <section class="form-section">
                        <h3 class="section-title">Información Básica</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="museum" class="required">Museo</label>
                                <select id="museum" name="museum" required="">
                                   <!-- Los museos se CARGARAN aquí dinámicamente con la informacion de la base de datos -->
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="artworkName" class="required">Nombre de la Obra</label>
                                <input type="text" id="artworkName" name="artworkName" required="">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="period">Período</label>
                                <input type="date" id="period" name="period" />
                            </div>
                            
                            <div class="form-group">
                                <label for="artworkType" class="required">Tipo de Obra</label>
                                <select id="artworkType" name="artworkType" required="">
                                    <option value="">Seleccione un tipo</option>
                                    <option value="P">Pintura</option>
                                    <option value="E">Escultura</option>
                                </select>
                            </div>
                        </div>
                    </section>
                    
                    <section class="form-section" id="dimensionsSection">
                        <h3 class="section-title">Dimensiones</h3>
                        
                        <div class="form-row">
                            <div class="form-group third-width">
                                <label for="width" class="required">Ancho</label>
                                <div class="input-group">
                                    <input type="number" id="width" name="width" step="0.01" min="0" required="">
                                    <span class="suffix">cm</span>
                                </div>
                            </div>
                            
                            <div class="form-group third-width">
                                <label for="height" class="required">Alto</label>
                                <div class="input-group">
                                    <input type="number" id="height" name="height" step="0.01" min="0" required="">
                                    <span class="suffix">cm</span>
                                </div>
                            </div>
                            
                            <div class="form-group third-width" id="depthGroup" style="display: none;">
                                <label for="depth">Profundidad</label>
                                <div class="input-group">
                                    <input type="number" id="depth" name="depth" step="0.01" min="0">
                                    <span class="suffix">cm</span>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <section class="form-section">
                        <h3 class="section-title">Características</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="styles">Estilos</label>
                                <textarea id="styles" name="styles" maxlength="200"></textarea>
                                <p class="form-note">Máximo 200 caracteres</p>
                            </div>
                            
                            <div class="form-group">
                                <label for="characteristics">Características, Materiales y Técnicas</label>
                                <textarea id="characteristics" name="characteristics" maxlength="300"></textarea>
                                <p class="form-note">Máximo 300 caracteres</p>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="monetaryValue">Valor Monetario</label>
                                <div class="input-group">
                                    <input type="number" id="monetaryValue" name="monetaryValue" step="0.01" min="0">
                                    <span class="suffix">$</span>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <section class="form-section">
                        <h3 class="section-title">Artistas</h3>
                        
                        <div class="artists-container">
                            <div class="artists-header">
                                <h4 class="artists-title">Artistas asociados a esta obra</h4>
                            </div>
                            
                            <div id="artistsTableContainer">
                                <table class="artists-table" id="artistsTable" style="display: none;">
                                    <thead>
                                        <tr>
                                            <th>Nombre</th>
                                            <th>Tipo</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody id="artistsTableBody">
                                        <!-- Los artistas se añadirán aquí dinámicamente -->
                                    </tbody>
                                </table>
                                
                                <div id="noArtistsMessage" class="no-artists-message" style="display: block;">
                                    No hay artistas asociados a esta obra
                                </div>
                            </div>
                            
                            <div class="artist-controls">
                                <div class="artist-search">
                                    <select id="artistSelect">
                                        <option value="">Seleccione un artista existente</option>
                                         <!-- Los artistas se CARGARAN aquí dinámicamente con la informacion de la base de datos -->
                                    </select>
                                    <button type="button" id="addExistingArtistBtn" class="btn btn-secondary artist-search-btn">Añadir</button>
                                </div>
                                
                                <button type="button" id="newArtistBtn" class="add-new-artist">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path>
                                    </svg>
                                    Registrar Nuevo Artista
                                </button>
                            </div>
                        </div>
                    </section>
                    
                    <section class="form-section">
                        <h3 class="section-title">Adquisición</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="acquisitionType" class="required">Forma de Llegada</label>
                                <select id="acquisitionType" name="acquisitionType" required="">
                                    <option value="">Seleccione una opción</option>
                                    <option value="compra">Compra</option>
                                    <option value="donacion">Donación</option>
                                    <option value="adquisicion">Adquisición</option>
                                </select>
                            </div>
                            
                            <div class="form-group" id="donorMuseumGroup" style="display: none;">
                                <label for="donorMuseum" class="required">Museo Donante</label>
                                <select id="donorMuseum" name="donorMuseum">
                                     <!-- Los museos se CARGARAN aquí dinámicamente con la informacion de la base de datos -->
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="arrivalDate" class="required">Fecha de Llegada</label>
                                <input type="date" id="arrivalDate" name="arrivalDate" required="">
                            </div>
                        </div>
                    </section>
                    
                    <section class="form-section">
                        <h3 class="section-title">Ubicación y Clasificación</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="collection" class="required">Colección</label>
                                <select id="collection" name="collection" required="" disabled="">
                                    <option value="">Seleccione primero un museo</option>
                                </select>
                                <div id="collectionLoading" class="loading-state" style="display: none;">Cargando colecciones...</div>
                            </div>
                            
                            <div class="form-group">
                                <label for="responsibleEmployee" class="required">Empleado Responsable</label>
                                <select id="responsibleEmployee" name="responsibleEmployee" required="">
                                     <!-- Los empleados se CARGARAN aquí dinámicamente con la informacion de la base de datos -->
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="room" class="required">Sala</label>
                                <select id="room" name="room" required="" disabled="">
                                    <option value="">Seleccione primero una colección</option>
                                </select>
                                <div id="roomLoading" class="loading-state" style="display: none;">Cargando salas...</div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <div class="checkbox-group">
                                    <input type="checkbox" id="isFeatured" name="isFeatured">
                                    <label for="isFeatured">¿Es una obra destacada?</label>
                                </div>
                            </div>
                            
                            <div class="form-group" id="featuredOrderGroup" style="display: none;">
                                <label for="featuredOrder" class="required">Orden de Destacado</label>
                                <input type="number" id="featuredOrder" name="featuredOrder" min="1">
                            </div>
                        </div>
                    </section>
                </div>
                
                <div class="form-footer">
                    <div class="form-status"></div>
                    <div class="btn-group">
                        <button type="button" class="btn btn-secondary">Cancelar</button>
                        <button type="submit" class="btn">Guardar Obra</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Modal para registrar nuevo artista -->
    <div id="artistModal" class="modal">
        <div class="modal-content">
            <button type="button" class="close-modal">×</button>
            
            <div class="modal-header">
                <h3 class="modal-title">Registrar Nuevo Artista</h3>
                <p class="modal-subtitle">Complete la información del artista para añadirlo a la obra</p>
            </div>
            
            <form id="artistForm">
                <div class="form-row">
                    <div class="form-group half-width">
                        <label for="artistFirstName" class="required">Nombre</label>
                        <input type="text" id="artistFirstName" name="artistFirstName">
                    </div>
                    
                    <div class="form-group half-width">
                        <label for="artistLastName" class="required">Apellido</label>
                        <input type="text" id="artistLastName" name="artistLastName">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="artisticName">Nombre Artístico</label>
                        <input type="text" id="artisticName" name="artisticName">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group half-width">
                        <label for="birthDate">Fecha de Nacimiento</label>
                        <input type="date" id="birthDate" name="birthDate">
                    </div>
                    
                    <div class="form-group half-width">
                        <label for="deathDate">Fecha de Defunción</label>
                        <input type="date" id="deathDate" name="deathDate">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="artistCharacteristics">Características del Artista</label>
                        <textarea id="artistCharacteristics" name="artistCharacteristics" required=""></textarea>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button type="button" id="cancelArtistBtn" class="btn btn-secondary">Cancelar</button>
                    <button type="submit" class="btn">Añadir Artista</button>
                </div>
            </form>
        </div>
    </div>
        <script src="../js/registro_obras.js"></script>
    </script>
</body></html>